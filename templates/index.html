<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KeyGen Hamster Deluxe üêπ‚ú®</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            display: flex;
            justify-content: space-between;
            max-width: 1200px;
            width: 100%;
            gap: 30px;
        }
        .form-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            flex: 1;
            transition: all 0.3s ease;
        }
        .form-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.5);
        }
        h2 {
            margin-top: 0;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        select, button {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: none;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        select {
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg fill="%23ffffff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 20px;
            padding-right: 40px;
        }
        button {
            background: linear-gradient(45deg, #FF6B6B, #FFD93D);
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px 0 rgba(255, 107, 107, 0.75);
        }
        button:hover {
            background: linear-gradient(45deg, #FFD93D, #FF6B6B);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px 0 rgba(255, 107, 107, 0.8);
        }
        #jsonDataDisplay {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 300px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #ffffff40 transparent;
        }
        #jsonDataDisplay::-webkit-scrollbar {
            width: 8px;
        }
        #jsonDataDisplay::-webkit-scrollbar-thumb {
            background-color: #ffffff40;
            border-radius: 4px;
        }
        .hidden-message {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        @media screen and (max-width: 768px) {
            .container {
                flex-direction: column;
            }
        }
        .emoji {
            font-size: 24px;
            margin-right: 10px;
            vertical-align: middle;
        }
        .sparkle {
            position: absolute;
            pointer-events: none;
            animation: sparkle 1.5s ease-in-out infinite;
        }
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="form-container animate__animated animate__fadeInLeft">
            <h2><span class="emoji">üéÆ</span>Key Generator Deluxe</h2>
            <select id="appSelect" onchange="updateConstants()">
                <option value="Bike">Bike Ride 3D üö¥‚Äç‚ôÇÔ∏è</option>
                <option value="Clone">My Clone Army ü™û</option>
                <option value="Chain">Chain Cube 2048 üé≤</option>
                <option value="Train">Train Miner üöÇ</option>
            </select>
            <button onclick="generateKeys()">Generate Magical Keys ‚ú®</button>
            <button onclick="copyKeys()">Copy Golden Keys üìã</button>
        </div>

        <div class="form-container animate__animated animate__fadeInRight">
            <h2><span class="emoji">üíª</span>Enchanted Terminal</h2>
            <pre id="jsonDataDisplay" class="key-display"></pre>
        </div>
    </div>
    <div class="hidden-message" id="secretMessage">You've found a secret! üéâ</div>

    <script>
        const appConfigs = {
            Bike: {
                appToken: 'd28721be-fd2d-4b45-869e-9f253b554e50',
                promoId: '43e35910-c168-4634-ad4f-52fd764a843f'
            },
            Clone: {
                appToken: '74ee0b5b-775e-4bee-974f-63e7f4d5bacb',
                promoId: 'fe693b26-b342-4159-8808-15e3ff7f8767'
            },
            Chain: {
                appToken: 'd1690a07-3780-4068-810f-9b5bbf2931b2',
                promoId: 'b4170868-cef0-424f-8eb9-be0622e8e8e3'
            },
            Train: {
                appToken: '82647f43-3f87-402d-88dd-09a90025313f',
                promoId: 'c4480ac7-e178-4973-8061-9ed5b2e17954'
            }
        };

        let APP_TOKEN = appConfigs.Bike.appToken;
        let PROMO_ID = appConfigs.Bike.promoId;
        const DEBUG_MODE = false;
        const EVENTS_DELAY = DEBUG_MODE ? 350 : 20000;
        const NUM_KEYS_TO_GENERATE = 4;
        let USER_ID = 'test_id';
        let USER = 'test_user';
        let HASH = 'test_hash';
        let generatedKeys = [];
        
        function updateConstants() {
            const selectedApp = document.getElementById('appSelect').value;
            APP_TOKEN = appConfigs[selectedApp].appToken;
            PROMO_ID = appConfigs[selectedApp].promoId;
        }

        function generateClientId() {
            const timestamp = Date.now();
            const randomNumbers = Array.from({ length: 19 }, () => Math.floor(Math.random() * 10)).join('');
            return `${timestamp}-${randomNumbers}`;
        }

        function generateDeviceId() {
            const baseDeviceId = '00000000000-0000000000000000000';
            const randomDigits = Array.from({ length: 5 }, () => Math.floor(Math.random() * 10)).join('');
            let deviceIdArray = baseDeviceId.split('');
            for (let i = 0; i < randomDigits.length; i++) {
                const randomIndex = Math.floor(Math.random() * deviceIdArray.length);
                deviceIdArray[randomIndex] = randomDigits[i];
            }
            return deviceIdArray.join('');
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function commitKey(key) {
            const keyData = {
                id: USER_ID,
                user: USER,
                hash: HASH,
                key: key
            };
            const keyDataEncoded = btoa(JSON.stringify(keyData));
            const url = DEBUG_MODE ?
                `http://localhost:8080/key?v=${keyDataEncoded}` :
                `http://localhost:8080/key?v=${keyDataEncoded}`;
        
            try {
                const response = await fetch(url, { method: 'POST' });
                return await response.json();
            } catch (error) {
                console.error('Error committing key:', error);
                return { status: 'error' };
            }
        }

        async function login(clientId) {
            if (DEBUG_MODE) {
                return `${APP_TOKEN}:deviceid:${deviceId}:${Date.now()}`;
            }
        
            try {
                const response = await fetch('https://api.gamepromo.io/promo/login-client', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        appToken: APP_TOKEN,
                        clientId: clientId,
                        clientOrigin: 'deviceid'
                    })
                });
                const data = await response.json();
                return data.clientToken;
            } catch (error) {
                console.error('Error logging in:', error);
                return null;
            }
        }

        async function emulateProgress(clientToken) {
            const eventUrl = 'https://api.gamepromo.io/promo/register-event';
            const headers = {
                'Authorization': `Bearer ${clientToken}`,
                'Content-Type': 'application/json'
            };
            const eventId = generateClientId();
            const eventData = {
                promoId: PROMO_ID,  
                eventId: eventId,
                eventOrigin: 'undefined'
            };

            let eventResponse;
            let eventJson;

            do {
                try {
                    eventResponse = await fetch(eventUrl, {
                        method: 'POST',
                        headers: headers,
                        body: JSON.stringify(eventData)
                    });

                    if (!eventResponse.ok) {
                        throw new Error(`Error: ${eventResponse.statusText}`);
                    }

                    eventJson = await eventResponse.json();

                    if (eventJson.hasCode) {
                        return true; // Successfully received the code
                    }

                    // Wait for 30 seconds before trying again
                    await sleep(30000);

                } catch (error) {
                    console.error('Error during progress emulation:', error);
                    return false; // Exit if an error occurs
                }
            } while (!eventJson.hasCode);

            return false;
        }

        async function generateKey(clientToken) {
            if (DEBUG_MODE) {
                return Math.random() < 0.5 ? 'PROMO-3YD-5ZA6-3VJA-Y77' : '';
            }
            try {
                const response = await fetch('https://api.gamepromo.io/promo/create-code', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${clientToken}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ promoId: PROMO_ID })
                });
                const data = await response.json();
                return data.promoCode;
            } catch (error) {
                console.error('Error generating key:', error);
                return null;
            }
        }
        
        async function generateSingleKey() {
            const clientId = generateClientId();
            const clientToken = await login(clientId);
        
            if (!clientToken) {
                appendToDisplay('Login failed. Skipping key generation.');
                return null;
            }
        
            appendToDisplay('Login successful, wait while the keys are generated...');
        
            for (let j = 0; j < 7; j++) {
                if (await emulateProgress(clientToken)) {
                    break;
                }
                await sleep(EVENTS_DELAY);
            }
        
            const key = await generateKey(clientToken);
            if (key) {
                appendToDisplay(`Generated key: ${key}`);
        
                if (USER_ID) {
                    const result = await commitKey(key);
                    if (result.status === 'ok') {
                        appendToDisplay(`Points: ${result.points}`);
                        return key;
                    } else {
                        appendToDisplay('Generating next key...');
                        return null;
                    }
                } else {
                    return key;
                }
            } else {
                appendToDisplay('Generating next key...');
                return null;
            }
        }

        async function findValidKeys(numKeys) {
            const keyDisplay = document.getElementById('jsonDataDisplay');
            keyDisplay.style.display = "block";
            keyDisplay.textContent = ''; // Clear previous content
        
            const keyPromises = Array.from({ length: numKeys }, () => generateSingleKey());
            const keys = await Promise.all(keyPromises);
        
            const validKeys = keys.filter(key => key !== null);
            generatedKeys = validKeys.slice(-4); // Keep the last 4 valid keys
            
            if (validKeys.length > 0) {
                appendToDisplay(`Valid keys found: ${validKeys.join(', ')}`);
            } else {
                appendToDisplay('No valid keys found.');
            }
        }

        function appendToDisplay(text) {
            const keyDisplay = document.getElementById('jsonDataDisplay');
            keyDisplay.textContent += text + '\n';
            keyDisplay.scrollTop = keyDisplay.scrollHeight; // Auto-scroll to bottom
        }
        
        function generateKeys() {
            addSparkles();
            findValidKeys(NUM_KEYS_TO_GENERATE);
        }
        
         ÿ®ÿßŸÑÿ™ÿ£ŸÉŸäÿØÿå ÿ≥ÿ£ŸÉŸÖŸÑ ÿßŸÑŸÉŸàÿØ ŸÖŸÜ ÿ≠Ÿäÿ´ ÿ™ŸàŸÇŸÅŸÜÿß:

```html
        function copyKeys() {
            const keyDisplay = document.getElementById('jsonDataDisplay').textContent;
            const keyPattern = /Generated key:\s([A-Za-z0-9\-]+)/g;
            const keys = [];
            let match;
            while ((match = keyPattern.exec(keyDisplay)) !== null) {
                keys.push(match[1]);
            }
            if (keys.length > 0) {
                const keysText = keys.join('\n');
                navigator.clipboard.writeText(keysText).then(() => {
                    alert('Keys copied to clipboard:\n' + keysText);
                }).catch(err => {
                    console.error('Error copying keys:', err);
                });
            } else {
                alert('No keys to copy.');
            }
        }

        function addSparkles() {
            for (let i = 0; i < 20; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                sparkle.style.left = `${Math.random() * 100}vw`;
                sparkle.style.top = `${Math.random() * 100}vh`;
                sparkle.style.animationDelay = `${Math.random() * 2}s`;
                sparkle.innerHTML = '‚ú®';
                document.body.appendChild(sparkle);
                setTimeout(() => sparkle.remove(), 1500);
            }
        }

        document.addEventListener('mousemove', (e) => {
            if (e.clientY > window.innerHeight - 50) {
                document.getElementById('secretMessage').style.opacity = '1';
            } else {
                document.getElementById('secretMessage').style.opacity = '0';
            }
        });

        // Add some interactivity and animations
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('mouseenter', () => {
                button.classList.add('animate__animated', 'animate__pulse');
            });
            button.addEventListener('mouseleave', () => {
                button.classList.remove('animate__animated', 'animate__pulse');
            });
        });

        // Make the form containers glow on hover
        document.querySelectorAll('.form-container').forEach(container => {
            container.addEventListener('mouseenter', () => {
                container.style.boxShadow = '0 0 20px rgba(255, 255, 255, 0.5)';
            });
            container.addEventListener('mouseleave', () => {
                container.style.boxShadow = '0 8px 32px 0 rgba(31, 38, 135, 0.37)';
            });
        });
    </script>
</body>
</html>
